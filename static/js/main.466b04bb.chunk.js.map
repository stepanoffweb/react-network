{"version":3,"sources":["components/Users/Users.module.css","components/Header/logo.png","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/fireball_1200x226.jpg","App.module.css","components/Dialogs/Dialogs.module.css","components/Navbar/navbar.jsx","components/Header/header.jsx","api/api.js","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","redux/dialogs-reducer.js","hoc/withAuthRedirect.jsx","components/Dialogs/DialogItem/DialogItem.jsx","components/Dialogs/Message/Message.jsx","components/common/FormsControls/FormsControls.jsx","utils/validators/validators.js","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/MyPosts.jsx","redux/profile-reducer.js","components/Profile/MyPosts/MyPostsContainer.js","components/common/Preloader/Preloader.jsx","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/profile.jsx","components/Profile/ProfileContainer.js","components/Login/Login.jsx","components/Login/LoginContainer.js","components/Settings/Settings.jsx","components/Users/User/User.jsx","components/Users/Users.jsx","redux/users-reducer.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/News/News.jsx","components/Music/Music.jsx","redux/app-reducer.js","App.js","redux/redux-store.js","serviceWorker.js","index.js","components/Navbar/navbar.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/common/FormsControls/formControl.module.css","components/Header/header.module.css","components/Profile/MyPosts/MyPosts.module.css","components/common/Preloader/Preloader.module.css"],"names":["module","exports","Navbar","className","styles","nav","activeClassName","activeLink","to","Header","props","s","header","src","logo","alt","loginBlock","isAuth","login","onClick","setLogout","instance","axios","withCredentials","baseURL","headers","usersAPI","currentPage","pageSize","get","then","response","data","userId","post","delete","console","warn","profileAPI","getUserProfile","getStatus","updateStatus","status","put","authAPI","pass","logMemo","email","password","rememberMe","SetUserAuthData","id","type","payload","getAuthData","dispatch","resultCode","initialState","authReducer","state","action","HeaderContainer","this","React","Component","connect","auth","dialogItems","name","messages","text","dialogsReducer","mapStateToProps","withAuthRedirect","RedirectComponent","DialogItem","dialogItem","active","Message","message","FormControl","input","Element","meta","hasError","touched","error","formControl","Textarea","Input","required","value","maxLengthCreator","maxLength","length","maxLength10","DialogForm","onSubmit","handleSubmit","Field","component","placeholder","cols","rows","validate","reduxForm","form","Dialogs","callDispatchAddMessage","dialogs","map","key","values","Date","now","log","dialogMessage","compose","messagePage","createActionAddMessage","Post","count","pic","data-id","data-count","maxLength50","PostForm","SetStatus","posts","likeCount","profile","profileReducer","postText","MyPostsContainer","profilePage","callDispatchAddPost","createActionAddPost","callDispatchAddLike","createActionAddLike","callDispatchShowLetters","e","target","parentNode","dataset","postItems","myPosts","formData","Preloader","preloader","ldsRing","ProfileStatusWithHooks","useState","editMode","setEditMode","setStatus","useEffect","statusText","onDoubleClick","statusInput","autoFocus","onChange","onBlur","ProfileInfo","hero","contentHead","photos","small","descr","fullName","lookingForAJob","lookingForAJobDescription","Profile","style","content","ProfileContainer","match","params","myId","history","push","withRouter","LoginForm","htmlFor","formError","Login","loginMemo","setLogin","stopSubmit","_error","Settings","User","country","city","followed","handleFollow","handleUnfollow","followingInProgress","userWrapper","userAction","img","disabled","some","btn","userInfo","username","location","Users","pagesCount","Math","ceil","totalUsersCount","pages","i","usersWrapper","p","pagination","selected","handleClickPage","users","show","SetFetching","isFetching","SetFollowingProgress","usersReducer","user","filter","getUsers","usersPage","getPageSize","geTotalUsersCount","getCurrentPage","getIsFetching","geFollowingInProgress","UsersContainer","pageNumber","getUsersData","Follow","Unfollow","SetCurrentPage","items","totalCount","News","Music","initialized","appReducer","App","initialiseApp","appWrapper","path","render","DialogsContainer","app","reducers","combineReducers","formReducer","store","createStore","applyMiddleware","thunkMiddleware","window","Boolean","hostname","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.466b04bb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"userWrapper\":\"Users_userWrapper__gekLR\",\"userInfo\":\"Users_userInfo__3k0-l\",\"userAction\":\"Users_userAction__1Wy46\",\"name\":\"Users_name__1qRDH\",\"location\":\"Users_location__3K8ON\",\"status\":\"Users_status__6aOHa\",\"img\":\"Users_img__1WX-G\",\"btn\":\"Users_btn__Ha2jj\",\"show\":\"Users_show__3yE9A\",\"pagination\":\"Users_pagination__2IZSg\",\"selected\":\"Users_selected__15RQ3\"};","module.exports = __webpack_public_path__ + \"static/media/logo.3705b72a.png\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2epSW\"};","module.exports = __webpack_public_path__ + \"static/media/fireball_1200x226.8048d8c1.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"appWrapper\":\"App_appWrapper__2o9lB\",\"app-wrapper-content\":\"App_app-wrapper-content__29-Kl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2aMUS\",\"dialogItems\":\"Dialogs_dialogItems__3oW-L\",\"active\":\"Dialogs_active__7jQ9_\",\"dialogItem\":\"Dialogs_dialogItem__2LEdu\",\"messages\":\"Dialogs_messages__2ooMr\",\"message\":\"Dialogs_message__teRNO\"};","import React from 'react';\r\nimport {NavLink} from 'react-router-dom'\r\nimport styles from  './navbar.module.css'\r\n\r\n\r\nexport default function Navbar() {\r\n    return (\r\n        <nav className={styles.nav}>\r\n        <ul>\r\n          <li><NavLink activeClassName={styles.activeLink} to=\"/profile\">Profile</NavLink></li>\r\n          <li><NavLink activeClassName={styles.activeLink} to=\"/dialogs\">Messages</NavLink></li>\r\n          <li><NavLink activeClassName={styles.activeLink} to=\"/users\">Users</NavLink></li>\r\n          <li><NavLink activeClassName={styles.activeLink} to=\"/news\">News</NavLink></li>\r\n          <li><NavLink activeClassName={styles.activeLink} to=\"/music\">Music</NavLink></li>\r\n          <li><NavLink activeClassName={styles.activeLink} to=\"/settings\">Settings</NavLink></li>\r\n        </ul>\r\n      </nav>\r\n    )\r\n}\r\n","import React from 'react';\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nimport logo from './logo.png';\r\nimport s from  './header.module.css';\r\n\r\nexport default function Header(props) {\r\n    return (\r\n        <header className={s.header}>\r\n            <img src={logo} alt=\"logo\"/>\r\n            <div className={s.loginBlock}>\r\n                { props.isAuth\r\n                    ? <div>{props.login} - <button onClick={props.setLogout}>LogOut</button> </div>\r\n                    : <NavLink to={'/login'} >Login</NavLink>}\r\n            </div>\r\n        </header>\r\n    )\r\n}\r\n","import * as axios from 'axios'\r\n\r\nconst instance = axios.create({\r\n  withCredentials: true,\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  headers: {\r\n    \"API-KEY\": \"85b1845a-610b-40eb-b2eb-a23834f06e57\"\r\n  }\r\n})\r\n\r\nexport const usersAPI = {\r\n  getUsers(currentPage = 2, pageSize = 20) {\r\n    return instance.get(`users?page=${currentPage}&count=${pageSize}`).then(response => {return response.data})\r\n  },\r\n  postFollow(userId) {return instance.post(`follow/${userId}`)},\r\n  deleteFollow(userId) {return instance.delete(`follow/${userId}`)},\r\n  getUserProfile(userId) {\r\n    console.warn('Obsolete method. Please use profileAPI object.') //вынос метода в отдельный объект (расширение функциональности)\r\n    return profileAPI.getUserProfile(userId)},\r\n}\r\n\r\nexport const profileAPI = {\r\n  getUserProfile(userId) {return instance.get(`profile/${userId}`)},\r\n  getStatus(userId) {return instance.get(`profile/status/${userId}`)},\r\n  updateStatus(status) {\r\n  return instance.put('profile/status', {status: status})}, // id сервер берет из кукисов\r\n}\r\n\r\nexport const authAPI = {\r\n  getAuth() {return instance.get('auth/me')},\r\n  setLogin(login, pass, logMemo = false) {\r\n    return instance.post('auth/login', {email: login, password: pass, rememberMe: logMemo})\r\n  },\r\n   setLogout() {return instance.delete('auth/login')}\r\n\r\n}\r\n\r\n// const baseUrl = 'https://social-network.samuraijs.com/api/1.0/'\r\n// export const getUsers = (currentPage = 2, pageSize = 20) => {\r\n//   return axios.get(`${baseUrl}users?page=${currentPage}&count=${pageSize}`).then(response => {return response.data})\r\n// }\r\n","import {usersAPI, authAPI} from '../api/api'\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nconst SET_USER_AUTH_DATA = 'SET_USER_AUTH_DATA'\r\n\r\nexport const SetUserAuthData = (id, email, login, isAuth)  => ({type: SET_USER_AUTH_DATA, payload: {id, email, login, isAuth}})\r\n\r\nexport const getAuthData = () => (dispatch) => {\r\n    return authAPI.getAuth().then(response => {\r\n        if(response.data.resultCode === 0){\r\n            let {id, email, login} = response.data.data\r\n            dispatch(SetUserAuthData(id, email, login, true))\r\n        }\r\n      })\r\n}\r\nexport const setLogin = (login, pass, logMemo) => (dispatch) => {\r\n    authAPI.setLogin(login, pass, logMemo).then(response => {\r\n        if(response.data.resultCode === 0){\r\n            dispatch(getAuthData())\r\n        } else {\r\n          let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Some error'\r\n          dispatch(stopSubmit('loginForm', {_error: message}))\r\n        }\r\n    })\r\n}\r\nexport const setLogout = () => {\r\n  return (dispatch) => {\r\n    authAPI.setLogout().then(response => {\r\n        if(response.data.resultCode === 0){\r\n            dispatch(SetUserAuthData(null, null, null, false))\r\n        }\r\n    })\r\n  }\r\n}\r\n\r\nlet initialState = {\r\n  id: 7243,\r\n  login:  \"ivanstepanov\",\r\n  email: \"dovolnyi@inbox.ru\",\r\n  isAuth: false\r\n}\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n      case SET_USER_AUTH_DATA :\r\n        return {...state,\r\n          ...action.payload,\r\n        }\r\n\r\n      default:\r\n        return state\r\n  }\r\n}\r\n\r\nexport default authReducer\r\n","import React from 'react';\r\nimport {connect} from 'react-redux'\r\n\r\nimport Header from './header'\r\nimport {setLogout} from '../../redux/auth-reducer'\r\n\r\nclass HeaderContainer extends React.Component {\r\n\r\n    render() {\r\n        return (\r\n            <Header {...this.props} />\r\n        );\r\n    }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n    isAuth: state.auth.isAuth,\r\n    id: state.auth.id,\r\n    login: state.auth.login,\r\n    email: state.auth.email\r\n})\r\n\r\nexport default connect(mapStateToProps, {setLogout})(HeaderContainer)\r\n","// const SHOW_MASSAGE = 'SHOW_MESSAGE'\r\nconst ADD_MESSAGE = 'ADD_MESSAGE'\r\n\r\nexport let createActionAddMessage = (id, text) => ({type: ADD_MESSAGE, id, text})\r\n// export let createActionShowMessage = (text) => ({type: SHOW_MESSAGE, text })\r\n\r\nlet initialState = {\r\n      dialogItems: [\r\n        {name: \"userName-1\", id: 0},\r\n        {name: \"userName-2\", id: 2},\r\n        {name: \"userName-3\", id: 3},\r\n        {name: \"userName-4\", id: 4},\r\n        {name: \"userName-5\", id: 5},\r\n        {name: \"userName-6\", id: 6},\r\n      ],\r\n      messages: [\r\n        {text: \"What's up?\", id: 0},\r\n        {text: \"Yo!!!\" , id: 1},\r\n        {text: \"How is Your webDev?\", id: 2},\r\n        {text: \"Who are you??\", id: 3},\r\n      ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n    case ADD_MESSAGE:\r\n      return  {...state,\r\n        messages: [...state.messages, {id: action.id, text: action.text}], // перезаписывает свойство с предыдущей строки на его deep copy\r\n          }\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default dialogsReducer\r\n","import React from 'react';\r\nimport {Redirect} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\n\r\nlet mapStateToProps = (state) => ({ isAuth: state.auth.isAuth })\r\n\r\nexport const withAuthRedirect = (Component) => {\r\n    // debugger\r\n\r\n    class RedirectComponent extends React.Component {\r\n\r\n        render() {\r\n            if(!this.props.isAuth) return <Redirect to={'/login'} />\r\n            return (\r\n                <Component {...this.props} />\r\n            );\r\n        }\r\n    }\r\n    return connect(mapStateToProps)(RedirectComponent)\r\n}\r\n\r\n","import React from 'react'\r\nimport {NavLink} from 'react-router-dom'\r\nimport s from '../Dialogs.module.css'\r\n\r\n\r\nconst DialogItem = ({name, id}) => {\r\n    return <div className={s.dialogItem + ' ' + s.active}>\r\n                <NavLink to={`/dialogs/${id}`} >{name}</NavLink>\r\n            </div>\r\n\r\n}\r\n\r\nexport default DialogItem\r\n","import React from 'react'\r\nimport s from '../Dialogs.module.css'\r\n\r\nconst Message = ({message, id}) => {\r\n    return <div id={id} className={s.message}>{message}</div>\r\n}\r\n\r\nexport default Message\r\n","import React from 'react'\r\nimport s from './formControl.module.css'\r\n\r\nconst FormControl = ({input, Element, meta, ...props}) => { // исключаем meta из передаваемых пропсов\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={s.formControl + \" \" + (hasError ? s.error : '')} >\r\n            <div><Element {...input} {...props} /> </div>\r\n            {hasError && <span>{meta.error}</span>}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Textarea = (props) => {\r\n    return <FormControl {...props} Element='textarea' ></FormControl>\r\n}\r\n\r\nexport const Input = (props) => {\r\n    return  <FormControl {...props} Element='input' ></FormControl>\r\n}\r\n","import {React} from 'react'\r\n\r\nexport const required = (value) => {\r\n  if (value) return undefined\r\n    return \"Field is required\"\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => (value) => {\r\n  if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}\r\n","import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\nimport DialogItem from './DialogItem/DialogItem'\r\nimport Message from './Message/Message'\r\nimport {Textarea} from '../common/FormsControls/FormsControls.jsx'\r\nimport {required, maxLengthCreator} from '../../utils/validators/validators.js'\r\nimport s from './Dialogs.module.css'\r\n\r\nconst maxLength10 = maxLengthCreator(10)\r\n\r\nlet DialogForm = (props) => {\r\n     return <form onSubmit={props.handleSubmit} >\r\n         <Field component={Textarea} name='dialogMessage' placeholder=\"write letters\"  cols=\"30\" rows=\"3\"\r\n         validate={[required, maxLength10]} />\r\n         <div>\r\n             <button>Send message</button>\r\n         </div>\r\n                    {/*{console.log(messages[0].text)}*/}\r\n     </form>\r\n}\r\n\r\nDialogForm = reduxForm({form: 'dialogform'})(DialogForm)\r\n\r\nconst Dialogs = ({dialogItems, messages, callDispatchAddMessage, isAuth}) => {\r\n    // let messageTextRef = React.createRef()\r\n\r\n    const dialogSubmit = (values) => {\r\n        let id = Date.now();\r\n        console.log(values.dialogMessage);\r\n        callDispatchAddMessage(id, values.dialogMessage)\r\n  }\r\n\r\n    return (\r\n        <>\r\n            <div className={s.dialogs}>\r\n                <div className={s.dialogItems}>\r\n                   { dialogItems.map(({name, id}) => <DialogItem name={name} key={id} id={id} />)}\r\n                </div>\r\n                <div className={s.messages}>\r\n                   <DialogForm onSubmit={dialogSubmit} />\r\n                    {messages.map(({text, id}) => <Message key={id} id={id} message={text} /> )}\r\n                </div>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Dialogs;\r\n","// import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {compose} from 'redux'\r\n\r\nimport s from './Dialogs.module.css'\r\nimport {createActionAddMessage} from '../../redux/dialogs-reducer'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\r\nimport Dialogs from './Dialogs'\r\n\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        dialogItems: state.messagePage.dialogItems,\r\n        messages: state.messagePage.messages,\r\n    }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => { //oldscool technique\r\n    return {\r\n        callDispatchAddMessage: (id, text) => {\r\n            dispatch(createActionAddMessage(id, text))\r\n        }\r\n    }\r\n}\r\n\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, mapDispatchToProps),\r\n    withAuthRedirect\r\n    )(Dialogs)\r\n","import React from 'react'\r\nimport s from './Post.module.css'\r\n\r\nexport default function Post({id, message, onClick, count, pic}) {\r\n\r\n  return (\r\n    <div className={s.post} data-id={id} data-count={count} >\r\n      {/*{console.log(onClick)}*/}\r\n\r\n      <img src={pic} alt=\"avatar\"/>\r\n      <h5>Another Post</h5>\r\n      <p>{message}</p>\r\n      <button  onClick={onClick} >Like {count}</button>\r\n\r\n    </div>\r\n  )\r\n}\r\n","  import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\n\r\nimport {required, maxLengthCreator} from '../../../utils/validators/validators.js'\r\nimport {Textarea} from '../../common/FormsControls/FormsControls.jsx'\r\n\r\nimport s from './MyPosts.module.css'\r\nimport Post from './Post/Post'\r\n\r\nconst maxLength50 = maxLengthCreator(10) //важно не вызывать внутри [...validate] в Field и даже не в PostForm!\r\nlet PostForm = (props) => {\r\n\r\n  return    <form onSubmit={props.handleSubmit} >\r\n      <div>\r\n        <Field component={Textarea} placeholder=\"Write your message\" name=\"text\" id=\"post\" cols=\"30\" rows=\"5\"\r\n        validate={[required, maxLength50]} />\r\n      </div>\r\n      <div>\r\n        <button >Add post</button>\r\n      </div>\r\n    </form>\r\n}\r\n\r\nPostForm = reduxForm({form: 'postform'})(PostForm)\r\n\r\nexport default function MyPosts({posts, callDispatchAddPost, callDispatchShowLetters, callDispatchAddLike, isAuth}) {\r\n\r\n  const mySubmit = (formData) => {\r\n    let id = Date.now();\r\n    callDispatchAddPost(id, formData.text);\r\n  }\r\n\r\n  const onClick = (e) => {\r\n    let likeCount = +e.target.parentNode.dataset.count\r\n    let id = e.target.parentNode.dataset.id\r\n    likeCount++\r\n    callDispatchAddLike(id, likeCount)\r\n  }\r\n  let postItems = posts.map(({id, message, likeCount, pic}) => <Post key={id} id={id} message={message} onClick={onClick} count={likeCount} pic={pic} />)\r\n\r\n  return <div className={s.myPosts}>\r\n      <h3>My Posts</h3>\r\n      <PostForm onSubmit={mySubmit} />\r\n      <div className={s.posts}>\r\n        { postItems }\r\n      </div>\r\n    </div>\r\n}\r\n","import {usersAPI, profileAPI} from '../api/api'\r\n\r\nconst ADD_POST = 'ADD_POST'\r\nconst ADD_LIKE = 'ADD_LIKE'\r\nconst SET_PROFILE = 'SET_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\n\r\nexport const createActionAddPost = (id, postText) => ({type: ADD_POST, id, postText })\r\nexport const createActionAddLike = (id, likeCount)  => ({type: ADD_LIKE, id, likeCount })\r\nexport const SetUserProfile = (profile)  => ({type: SET_PROFILE, profile})\r\nexport const SetStatus = (status)  => ({type: SET_STATUS, status})\r\n\r\nexport const getUserProfile = (id) => (dispatch) => {\r\n     usersAPI.getUserProfile(id).then(response => {\r\n        dispatch(SetUserProfile(response.data))\r\n      })\r\n  }\r\n\r\nexport const getStatus = (id) => (dispatch) => {\r\n     profileAPI.getStatus(id).then(response => {\r\n        dispatch(SetStatus(response.data))\r\n      })\r\n  }\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n     profileAPI.updateStatus(status).then(response => {\r\n       if(response.data.resultCode === 0)\r\n        dispatch(SetStatus(status))\r\n      })\r\n  }\r\n\r\nlet initialState = {\r\n  posts: [\r\n    {id: 0,message: \"Hi, it's my first post!\", likeCount: 0, pic: 'https://www.fentybeauty.com/dw/image/v2/AAXW_PRD/on/demandware.static/-/Sites-itemmaster_FNT/default/dw60190d91/smear-mobile/42170_slick.jpg?sw=550'},\r\n    {id: 1,message: \"You'r welcome, my friend!!!!\", likeCount: 0, pic: 'https://www.fentybeauty.com/dw/image/v2/AAXW_PRD/on/demandware.static/-/Sites-itemmaster_FNT/default/dw60190d91/smear-mobile/42170_slick.jpg?sw=550'},\r\n    {id: 2,message: \"Ammmmm...\", likeCount: 0, pic: 'https://www.fentybeauty.com/dw/image/v2/AAXW_PRD/on/demandware.static/-/Sites-itemmaster_FNT/default/dw60190d91/smear-mobile/42170_slick.jpg?sw=550'},\r\n  ],\r\n  profile: null, // чтобы первая отрисовка запустила Preloader\r\n  status: '------'\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n      case ADD_POST :\r\n        return {...state,\r\n        posts: [...state.posts, {id: action.id, message: action.postText}]\r\n        }\r\n      case SET_PROFILE:\r\n        return {...state,\r\n          profile: action.profile\r\n        }\r\n       case SET_STATUS:\r\n        return {...state,\r\n          status: action.status || state.status\r\n        }\r\n      case ADD_LIKE:\r\n        return {...state,\r\n        posts: [...state.posts],\r\n        // posts.map((post) => {post.id === action.id ? post.likeCount++ : ''})\r\n        }\r\n      default:\r\n        return state\r\n  }\r\n}\r\n\r\nexport default profileReducer\r\n","import {connect} from 'react-redux'\r\nimport MyPosts from './MyPosts'\r\n\r\nimport {createActionAddPost, createActionAddLike} from '../../../redux/profile-reducer'\r\n\r\n\r\n  const mapStateToProps = (state) => {\r\n    return {\r\n      // newPostText: state.profilePage.newPostText,\r\n      posts: state.profilePage.posts,\r\n    }\r\n  }\r\n\r\n  const mapDispatchToProps = (dispatch) => {\r\n    return {\r\n      // callDispatchShowLetters: (text) => dispatch(createActionShowLetters(text)),\r\n      callDispatchAddPost: (id, text) => dispatch(createActionAddPost(id, text)),\r\n      callDispatchAddLike: (id, likeCount) => dispatch(createActionAddLike(id, likeCount))\r\n    }\r\n  }\r\n\r\nconst MyPostsContainer =  connect(mapStateToProps, mapDispatchToProps)(MyPosts)\r\n// console.log(MyPostsContainer);\r\nexport default MyPostsContainer\r\n","import React from 'react'\r\nimport s from './Preloader.module.css'\r\n\r\nexport default function Preloader() {\r\n    return (\r\n        <div className={s.preloader}>\r\n        <h1>Loaded!!!</h1>\r\n            <div className={s.ldsRing}><div></div><div></div><div></div><div></div></div>\r\n        <h1>Loaded!!!</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React, {useState, useEffect} from 'react'\r\n\r\nimport s from './ProfileInfo.module.css'\r\n\r\nconst ProfileStatusWithHooks = (props) => {\r\n\r\n    let [editMode, setEditMode] = useState(false)\r\n    let [status, setStatus] = useState(props.status)\r\n    useEffect(() => {\r\n        setStatus(props.status)\r\n    }, [props.status]) // нормальное решение вместо 18-й строки\r\n\r\n    const activateEditMode = () => setEditMode(true)\r\n    const statusChange = e => setStatus(e.target.value)\r\n\r\n    const deactivateEditMode = () => {\r\n        setEditMode(false)\r\n        // setStatus(status) // типа не изменился state и родительский ProfileContainer не перерисуется -> не вызовет с сервера новый status и не получит id из withRouter.props.match.params\r\n        props.updateStatus(status)\r\n    }\r\n\r\n    return <>\r\n        {!editMode &&\r\n            <div className={s.statusText}>\r\n                <p onDoubleClick={activateEditMode} >Status: {props.status} hooks</p>\r\n            </div>}\r\n\r\n        {editMode &&\r\n            <div className={s.statusInput}>\r\n                <input autoFocus={true} onChange={statusChange} onBlur={deactivateEditMode}  />\r\n            </div>}\r\n    </>\r\n}\r\n\r\nexport default ProfileStatusWithHooks\r\n","import React from 'react'\r\n\r\nimport s from './ProfileInfo.module.css'\r\nimport hero from './fireball_1200x226.jpg'\r\nimport Preloader from '../../common/Preloader/Preloader'\r\nimport ProfileStatusWithHooks from './ProfileStatusWithHooks'\r\n\r\nexport default function ProfileInfo({profile, status, updateStatus}) {\r\n     if (!profile) return <Preloader />\r\n    return (\r\n        <div>\r\n            <div>\r\n                <img src={hero} alt=\"hero\" className={s.hero} />\r\n            </div>\r\n            <div className={s.contentHead}>\r\n              <img src={profile.photos.small ? profile.photos.small : \"https://sun9-6.userapi.com/QqHBpjLe2yLFnKJ58RKzAm5Ha0JrcRpCI70M5A/HL3ROS3t4h0.jpg?ava=1\"} alt=\"avatar\" />\r\n              <div className={s.descr}>About Me</div>\r\n              <p>My Name: {profile.fullName} </p>\r\n\r\n            <ProfileStatusWithHooks status={status} updateStatus={updateStatus} />\r\n\r\n              <p>Looking For A Job: {profile.lookingForAJob ? \"AbsoFuckingLootely!!!!\" : \"Nope...I already have a GOOD one.\" } <br /> {profile.lookingForAJobDescription} </p>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n// {\r\n//   \"aboutMe\": \"я круто чувак 1001%\",\r\n//   \"contacts\": {\r\n//     \"facebook\": \"facebook.com\",\r\n//     \"website\": null,\r\n//     \"vk\": \"vk.com/dimych\",\r\n//     \"twitter\": \"https://twitter.com/@sdf\",\r\n//     \"instagram\": \"instagra.com/sds\",\r\n//     \"youtube\": null,\r\n//     \"github\": \"github.com\",\r\n//     \"mainLink\": null\r\n//   },\r\n//   \"lookingForAJob\": true,\r\n//   \"lookingForAJobDescription\": \"не ищу, а дурачусь\",\r\n//   \"fullName\": \"samurai d new name\",\r\n//   \"userId\": 2,\r\n//   \"photos\": {\r\n//     \"small\": \"https://social-network.samuraijs.com/activecontent/images/users/2/user-small.jpg?v=0\",\r\n//     \"large\": \"https://social-network.samuraijs.com/activecontent/images/users/2/user.jpg?v=0\"\r\n//   }\r\n// }\r\n","import React from 'react';\r\n\r\nimport MyPostsContainer from './MyPosts/MyPostsContainer'\r\nimport ProfileInfo from './ProfileInfo/ProfileInfo'\r\nimport style from './profile.module.css';\r\n\r\n\r\nexport default function Profile(props) {\r\n    // console.log(props);\r\n    // debugger\r\n\r\n    return (\r\n        <>\r\n          <div className={style.content}>\r\n\r\n            <ProfileInfo profile={props.profile} status={props.status} updateStatus={props.updateStatus} />\r\n            <MyPostsContainer  />\r\n          </div>\r\n        </>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport {connect} from 'react-redux'\r\nimport {withRouter} from 'react-router-dom'\r\nimport {compose} from 'redux'\r\n\r\nimport Profile from './profile'\r\nimport {getUserProfile, getStatus, updateStatus} from '../../redux/profile-reducer'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\r\n\r\nclass ProfileContainer extends React.Component {\r\n\r\n  componentDidMount() {\r\n    let userId = this.props.match.params.userId || this.props.myId\r\n    if (!userId) {this.props.history.push('/login')} //избыточно для примера (уже обернуто withAuthRedirect)\r\n\r\n    this.props.getUserProfile(userId)\r\n  // debugger\r\n    this.props.getStatus(userId)\r\n  }\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Profile {...this.props} profile={this.props.profile} /> //если импортнули еще где-то и передали дополнительные ...props\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  profile: state.profilePage.profile,\r\n  status: state.profilePage.status,\r\n  myId: state.auth.id\r\n})\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {getUserProfile, getStatus, updateStatus}),\r\n  withRouter,\r\n  withAuthRedirect\r\n  )(ProfileContainer)\r\n","import React from 'react'\r\nimport {Field, reduxForm} from 'redux-form'\r\nimport {Redirect} from 'react-router-dom'\r\n\r\nimport {Input} from '../common/FormsControls/FormsControls.jsx'\r\nimport {required, maxLengthCreator} from '../../utils/validators/validators.js'\r\nimport s from '../common/FormsControls/formControl.module.css'\r\n\r\nconst maxLength10 = maxLengthCreator(18)\r\n\r\nlet LoginForm = (props) => {\r\n    const {handleSubmit} = props\r\n\r\n    return <form onSubmit={handleSubmit} >\r\n        <div>\r\n            <Field component={Input} type=\"text\" placeholder=\"Login\" name=\"login\"\r\n            validate={[required, maxLength10]} />\r\n        </div>\r\n        <div>\r\n            <Field component={Input} type=\"text\" placeholder=\"Password\" name=\"password\"\r\n            validate={[required, maxLength10]} />\r\n        </div>\r\n        <div>\r\n            <Field component=\"input\" type=\"checkbox\" name=\"rememberme\" id=\"loginMemo\" />\r\n            <label htmlFor=\"loginMemo\">Remember me</label>\r\n        </div>\r\n        {props.error && <div className={s.formError} >{props.error}</div>}\r\n        <button>Login</button>\r\n    </form>\r\n}\r\n\r\nLoginForm =  reduxForm({\r\n    form: 'loginForm'\r\n})(LoginForm)\r\n\r\nexport default function Login(props) {\r\n     let mySubmit = (formData) => {\r\n        props.getAuthData(formData.login, formData.password, formData.loginMemo)\r\n        for (let key in formData) {\r\n            formData[key] = '' //для checked - приведение типов к false\r\n        }\r\n    }\r\n    if (props.isAuth) { return <Redirect to={'/profile'} />}\r\n    return  <LoginForm onSubmit={mySubmit} />\r\n}\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\n\r\nimport Login from './Login'\r\nimport {setLogin} from '../../redux/auth-reducer.js'\r\n\r\nfunction LoginContainer(props) {\r\n  // console.log(props);\r\n\r\n  let getAuthData = (login, pass, logMemo) => {\r\n    props.setLogin(login, pass, logMemo)\r\n  }\r\n    return  <Login {...props} getAuthData={getAuthData} />\r\n  }\r\n\r\n  const mapStateToProps = (state) => ({\r\n      isAuth: state.auth.isAuth\r\n    })\r\n\r\nexport default connect(mapStateToProps, {setLogin})(LoginContainer)\r\n","import React from 'react'\r\nimport s from './Settings.module.css'\r\n\r\nexport default function Settings() {\r\n    return (\r\n        <div>\r\n        <h1>Settings</h1>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport s from '../Users.module.css'\r\nimport {NavLink} from 'react-router-dom'\r\n\r\nconst User = ({userId, name, status, country, city, followed, pic, handleFollow, handleUnfollow, followingInProgress}) => {\r\n    // debugger\r\n\r\n    return (\r\n        <div className={s.userWrapper} data-id={userId} >\r\n            <div className={s.userAction}>\r\n                <NavLink to={`/profile/${userId}`}  >\r\n                <img className={s.img} src={pic ? pic : 'https://www.adobe.com/content/dam/cc/us/en/creativecloud/photography/discover/portrait-photography/CODERED_B1_portrait_photography-P4a_438x447.jpg.img.jpg'} alt=\"avatar\"/>\r\n                </NavLink>\r\n                {followed\r\n                    ? <button disabled={followingInProgress.some(id => id === userId)} className={s.btn} onClick={() => handleUnfollow(userId)} >Unfollow</button>\r\n                    : <button disabled={followingInProgress.some(id => id === userId)} className={s.btn} onClick={() => handleFollow(userId)} >Follow</button> }\r\n            </div>\r\n            <div className={s.userInfo}>\r\n                <div className={s.name}>\r\n                    <span className={s.username}>{name}</span>\r\n                    <span className={s.status}>{status}</span>\r\n                </div>\r\n                <div className={s.location}>\r\n                    <span className={s.country}>{country},</span>\r\n                    <span className={s.city}>{city}</span>\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n    )\r\n}\r\n\r\nexport default User;\r\n","import React from 'react'\r\nimport s from './Users.module.css'\r\nimport User from './User/User'\r\n\r\nconst Users = (props) => {\r\n\r\n    let pagesCount = Math.ceil(props.totalUsersCount / props.pageSize)\r\n    let pages = []\r\n      let i = 1\r\n      while(i <= pagesCount) {\r\n        pages.push(i)\r\n        i++\r\n      }\r\n      // if (this.props.isFetching) return <Preloader />\r\n      // let followingInProgress = this.props.followingInProgress\r\n\r\n    return <>\r\n        <div className={s.usersWrapper}>\r\n        {pages.map(p => <span key={p} className={`${s.pagination} ${props.currentPage === p ? s.selected : ''}`}\r\n          onClick={() => props.handleClickPage(p)} >{p}</span>)}\r\n        {props.users.map(({id, name, status, country, city, followed, photos:{small}}) =>\r\n          <User key={`${id}-${status}`} userId={id} name={name} status={status} country={country} city={city} followed={followed} pic={small}\r\n            followingInProgress={props.followingInProgress}\r\n            handleFollow={() => props.handleFollow(id)}\r\n            handleUnfollow={() => props.handleUnfollow(id)} /> )}\r\n        <button className={s.show}>Show More</button>\r\n        </div>\r\n      </>\r\n}\r\n\r\nexport default Users;\r\n","import {usersAPI} from '../api/api'\r\n\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SET_USERS = 'ADD_USERS'\r\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\r\nconst SET_TOTAL_COUNT = 'SET_TOTAL_COUNT'\r\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\r\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\r\n\r\nexport const followSuccess = (userId) => ({type: FOLLOW, userId })\r\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId })\r\nexport const SetUsers = (users) => ({type: SET_USERS , users})\r\nexport const SetCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE , currentPage})\r\nexport const SetTotalCount = (totalUsersCount) => ({type: SET_TOTAL_COUNT, totalUsersCount})\r\nexport const SetFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING , isFetching})\r\nexport const SetFollowingProgress = (isFetching, userId) => ({type: TOGGLE_IS_FOLLOWING_PROGRESS , isFetching, userId})\r\n\r\nexport const getUsersData = (currentPage, pageSize) => (dispatch) => {\r\n  dispatch(SetFetching(true))\r\n  dispatch(SetCurrentPage(currentPage))\r\n    // debugger\r\n      usersAPI.getUsers(currentPage, pageSize).then(data => {\r\n        dispatch(SetUsers(data.items))\r\n        dispatch(SetTotalCount(data.totalCount))\r\n        dispatch(SetFetching(false))\r\n      })\r\n}\r\nexport const Follow = (id) => (dispatch) => {\r\n    dispatch(SetFollowingProgress(true, id))\r\n    usersAPI.postFollow(id).then(response => {\r\n        if(response.data.resultCode === 0){\r\n          dispatch(followSuccess(id))}\r\n        dispatch(SetFollowingProgress(false, id))\r\n        })\r\n}\r\n\r\nexport const Unfollow = (id) => (dispatch) => {\r\n    dispatch(SetFollowingProgress(true, id))\r\n    usersAPI.deleteFollow(id).then(response => {\r\n          if(response.data.resultCode === 0){\r\n            dispatch(unfollowSuccess(id))}\r\n          dispatch(SetFollowingProgress(false, id))\r\n        })\r\n}\r\n\r\nlet initialState = {\r\n  users: [],\r\n  pageSize: 20,\r\n  totalUsersCount: 0,\r\n  currentPage: 2,\r\n  isFetching: false,\r\n  followingInProgress: [],\r\n}\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n  // console.log(state);//{users: Array(0)} users: []\r\n\r\n  switch(action.type) {\r\n    case FOLLOW :\r\n      return {...state,\r\n        users: state.users.map(user => (user.id === action.userId) ? {...user, followed: true} : user)\r\n      }\r\n    case UNFOLLOW:\r\n      return {...state,\r\n                // users: state.users.map((user) => (user.id === action.userId) ? {...user, followed: false} : user)\r\n\r\n        users: state.users.map((user) => {\r\n          if (user.id === action.userId) {\r\n            return {...user, followed: false}\r\n          }\r\n          return user\r\n        })\r\n      }\r\n    case SET_USERS:\r\n      return {...state, users: action.users}\r\n    case SET_CURRENT_PAGE:\r\n      return {...state, currentPage: action.currentPage}\r\n    case SET_TOTAL_COUNT:\r\n      return {...state, totalUsersCount: action.totalUsersCount}\r\n    case TOGGLE_IS_FETCHING:\r\n      return {...state, isFetching: action.isFetching}\r\n    case TOGGLE_IS_FOLLOWING_PROGRESS:\r\n          return {...state,\r\n            followingInProgress: action.isFetching\r\n            ? [...state.followingInProgress, action.userId]\r\n            : state.followingInProgress.filter(id => id != action.userId)\r\n          }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}\r\n\r\nexport default usersReducer\r\n"," export const getUsers = state => state.usersPage.users\r\n export const getPageSize = state => state.usersPage.pageSize\r\n export const geTotalUsersCount = state => state.usersPage.totalUsersCount\r\n export const getCurrentPage = state => state.usersPage.currentPage\r\n export const getIsFetching = state => state.usersPage.isFetching\r\n export const geFollowingInProgress = state => state.usersPage.followingInProgress\r\n\r\n\r\n\r\n","import React from 'react'\r\nimport {connect} from 'react-redux'\r\nimport {compose} from 'redux'\r\n\r\nimport Users from './Users'\r\nimport Preloader from '../common/Preloader/Preloader'\r\nimport {Follow, Unfollow, getUsersData} from '../../redux/users-reducer'\r\nimport {getPageSize, geTotalUsersCount, getCurrentPage, getIsFetching, geFollowingInProgress, getUsers} from '../../redux/users-selectors'\r\nimport {withAuthRedirect} from '../../hoc/withAuthRedirect'\r\n\r\n\r\nclass UsersContainer extends React.Component {\r\n  // state = {{Follow, Unfollow, SetUsers, SetTotalCount, SetFetching, SetFollowingProgress, users }} // this.props - конструктор невидим, но он - есть!\r\n//   Follow: ƒ ()\r\n// SetCurrentPage: ƒ ()\r\n// SetFetching: ƒ ()\r\n// SetFollowingProgress: ƒ ()\r\n// SetTotalCount: ƒ ()\r\n// SetUsers: ƒ ()\r\n// Unfollow: ƒ ()\r\n// currentPage: 2\r\n// followingInProgress: false\r\n// isFetching: false\r\n// pageSize: 20\r\n// totalUsersCount: 0\r\n// users: []\r\n  componentDidMount() {\r\n      this.props.getUsersData(this.props.currentPage, this.props.pageSize)\r\n}\r\n\r\n  handleClickPage = (pageNumber) => {\r\n      this.props.getUsersData(pageNumber, this.props.pageSize)\r\n}\r\n\r\n  handleFollow = (id) => {\r\n      this.props.Follow(id)\r\n}\r\n\r\n  handleUnfollow = (id) => {\r\n      this.props.Unfollow(id)\r\n}\r\n\r\n          render() {\r\n\r\n              return <>\r\n                  {this.props.isFetching ? <Preloader /> : null}\r\n                  <Users {...this.props}  handleUnfollow={this.handleUnfollow} handleFollow={this.handleFollow}\r\n                  handleClickPage={this.handleClickPage} />\r\n              </>\r\n          }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({     // console.log(state);// {profilePage: {…}, messagePage: {…}, usersPage: {…}}\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: geTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    followingInProgress: geFollowingInProgress(state),\r\n})\r\n\r\nexport default compose (\r\n    connect(mapStateToProps, {\r\n        Follow,\r\n        Unfollow,\r\n        getUsersData\r\n    }),\r\n    // withAuthRedirect\r\n    )(UsersContainer)\r\n\r\n","import React from 'react'\r\nimport s from './News.module.css'\r\n\r\nexport default function News() {\r\n    return (\r\n        <div>\r\n        <h1>News</h1>\r\n\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\nimport s from './Music.module.css'\r\n\r\nexport default function Music() {\r\n    return (\r\n        <div>\r\n            <h1>Music</h1>\r\n        </div>\r\n    )\r\n}\r\n","// common app settings\r\nimport {stopSubmit} from 'redux-form'\r\n\r\nimport {usersAPI, authAPI} from '../api/api'\r\nimport {getAuthData} from './auth-reducer'\r\n\r\nconst SET_INITIALIZED = 'SET_INITIALIZED'\r\n\r\nexport const initializedSuccess = ()  => ({type: SET_INITIALIZED})\r\n\r\nexport const initialiseApp = () => (dispatch) => {\r\n  let promise =  dispatch(getAuthData())\r\n\r\n  promise.then(() => {\r\n    dispatch(initializedSuccess())\r\n  })\r\n\r\n}\r\n\r\nlet initialState = {\r\n  initialized: false\r\n}\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n\r\n  switch(action.type) {\r\n      case SET_INITIALIZED :\r\n        return {...state,\r\n          initialized: true,\r\n        }\r\n\r\n      default:\r\n        return state\r\n  }\r\n}\r\n\r\nexport default appReducer\r\n","import React from 'react';\r\nimport {Route, withRouter} from 'react-router-dom'\r\nimport {connect} from 'react-redux'\r\nimport {compose} from 'redux'\r\n\r\nimport Navbar from './components/Navbar/navbar';\r\nimport HeaderContainer from './components/Header/HeaderContainer';\r\nimport DialogsContainer from './components/Dialogs/DialogsContainer';\r\nimport ProfileContainer from './components/Profile/ProfileContainer';\r\nimport LoginContainer from './components/Login/LoginContainer';\r\nimport Settings from './components/Settings/Settings';\r\nimport UsersContainer from './components/Users/UsersContainer';\r\nimport News from './components/News/News';\r\nimport Music from './components/Music/Music';\r\nimport styles from './App.module.css';\r\nimport {initialiseApp} from './redux/app-reducer'\r\nimport Preloader from './components/common/Preloader/Preloader'\r\n\r\n\r\nclass App extends React.Component {\r\n\r\n  componentDidMount() {\r\n        this.props.initialiseApp()\r\n  }\r\n\r\n  render() {\r\n    if (!this.props.initialized) {\r\n      return <Preloader />\r\n    }\r\n\r\n    return (\r\n    <div className={styles.appWrapper}>\r\n        <HeaderContainer />\r\n        <Navbar />\r\n        <div className=\"appWrapperContent\">\r\n           <Route path='/profile/:userId?' render={() => <ProfileContainer  />} />\r\n           <Route path='/dialogs' render={() => <DialogsContainer  />} />\r\n           <Route path='/users' render={() => <UsersContainer />} />\r\n           <Route path='/login' render={() => <LoginContainer />} />\r\n\r\n           <Route path='/music' component={Music} />\r\n           <Route path='/news' component={News} />\r\n           <Route path='/settings' component={Settings} />\r\n        </div>\r\n      </div>\r\n     );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n  initialized: state.app.initialized,\r\n})\r\n\r\nexport default  compose(\r\n  withRouter,\r\n  connect(mapStateToProps, {initialiseApp}))(App)\r\n","import {combineReducers, createStore, applyMiddleware} from 'redux'\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport {reducer as formReducer} from 'redux-form'\r\n\r\n\r\nimport profileReducer from './profile-reducer'\r\nimport dialogsReducer from './dialogs-reducer'\r\nimport usersReducer from './users-reducer'\r\nimport authReducer from './auth-reducer'\r\nimport appReducer from './app-reducer'\r\n\r\nlet reducers = combineReducers({\r\n  profilePage: profileReducer, // ключ == ветка state!!!! в своем mapStateToProps = (state === state.branchName)\r\n  messagePage: dialogsReducer,\r\n  // sidebar: sidebarReducer,\r\n  usersPage: usersReducer,\r\n  auth: authReducer,\r\n  app: appReducer,\r\n  form: formReducer\r\n})\r\nlet store = createStore(reducers, applyMiddleware(thunkMiddleware))\r\nwindow.store = store\r\n\r\nexport default store\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl, {\r\n    headers: { 'Service-Worker': 'script' },\r\n  })\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then(registration => {\r\n        registration.unregister();\r\n      })\r\n      .catch(error => {\r\n        console.error(error.message);\r\n      });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport {Provider} from 'react-redux'\r\nimport {HashRouter} from 'react-router-dom'\r\n\r\nimport App from './App'\r\nimport store from './redux/redux-store'\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\n// export const Rerender = () => {\r\n  ReactDOM.render(\r\n    <HashRouter>\r\n      <Provider store={store} >\r\n        <App />\r\n      </Provider>\r\n    </HashRouter>,\r\n    document.getElementById('root')\r\n  );\r\n// }\r\n// Rerender()\r\n// store.subscribe(() => Rerender()) // особенность Redux - subscribe принимает колбэк и вызывается автоматически при изменении state\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"navbar_nav__3ZsFr\",\"activeLink\":\"navbar_activeLink__1-c8E\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"hero\":\"ProfileInfo_hero__F2T2b\",\"contentHead\":\"ProfileInfo_contentHead__2fj0c\",\"descr\":\"ProfileInfo_descr__sHZ11\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"formControl_formControl__E7yqZ\",\"error\":\"formControl_error__2Yef3\",\"formError\":\"formControl_formError__xnzuW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2BoI4\",\"loginBlock\":\"header_loginBlock__9mQ_u\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"myPosts\":\"MyPosts_myPosts__Yjx6y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__6et_g\",\"ldsRing\":\"Preloader_ldsRing__XzqbH\",\"lds-ring\":\"Preloader_lds-ring__3nQUD\"};"],"sourceRoot":""}